% 訂單程式的訂單

從剛剛的軟體中我們可以發現，這個軟體的介面不太容易操作，一來畫面是黑白的，二來它是單純使用鍵盤輸入，沒有好用的滑鼠或觸控螢幕。然而之所以要從這裡開始的原因是，這樣子才可以真正理解程式的本質，就是輸出輸入兩件事情而已，再來的都是這些細節的加強與延伸罷了。

我們不容易從現在畫面中的黑白文字變成美麗多樣的網頁型態，但是沒有人現在出門還用自己打造的汽車吧，如果今天給你一台完整功能的汽車免費使用，要的只是自己花一點點時間學習操作就可以上手，還有人要自己從頭打造嗎？從眼前的這個黑白畫面到網頁的彩色圖案是經過非常多年非常多人的研發實驗而成的結果，我們當然可以自己再來一次，但是當今天網路核心（.Net Core）已經全部公開原始碼放在網路上任大家取用時，站在巨人的肩膀上總是比較輕鬆的起點，況且今天這個巨人還是自己人的時候，那不是更加美滿的事情嗎？

所以我們縱使要學習基本的程式設計概念，我們並不會自己親自打造網頁顯示的功能，也就代表我們必須要花一點點時間去研究如何使用人家開發的架構來顯示這樣的問句：「您要珍奶還是紅茶？」如果你現在將剛剛程式裡面的英文句子改成中文時，就不太容易正常顯示了，這也是另外一個議題，然而在未來我們還會持續處理中文編碼的問題，但是在瀏覽器上這個就已經是相當輕鬆的課題了，因此我們在這個章節中，要先把訂單程式的其他部分完成之後，才會開始使用更複雜的瀏覽器來檢視我們的程式內容，所以要再使用英文一小段時間，就當作是複習簡單的英文好了。


# 重複就是程式的專長

我們再一次回到剛剛的那幾行程式中，首先要改善的問題是，我們想要讓程式不間斷的執行，直到我們要它停止為止，假設我們想要讓程式知道我們想要停止時，我們就輸入`quit`，再按下輸入鍵（Enter），程式才會終止，我們就必須要使用兩個東西，這也是程式的基本功能，叫做變數以及迴圈。

變數就是一個有名稱的內容資料，它是一個我們可以重複使用的簡單工具，也就是說我們想要接收使用者輸入的任何資料時，都需要有一個可以操作的功能變數，好讓我們記錄資料或是比對資料。迴圈就是將程式再重複利用的方法，不需要在程式裡面重複無限多行指令好讓螢幕可以詢問使用者想要什麼飲料，而是告訴程式說，除非有別的因素改變了，否則重複執行這兩行指令，讓我們看看程式的本身來說明。

<script data-gist-id="9574f52eb2eab7e9dfe77452bcf23581" data-gist-file="Program-v2.cs" gist-enable-cache="true"></script>

首先，還是回到第七行中，我們看到了三個東西，分別是 `string`、`response`、`=""`，其中分別代表「字串變數」、「功能變數的名稱」、以及「功能變數的內容」。因為程式可以針對不同類別的資料作處理，所以我們必須要告訴它說，我們想要的是哪一種的資料類別，在這裡的 `string` 是一個非常常用的資料類別，它的內容是各式各樣的中英文或各國文字都可以，接在它後面的 `response` 則是我們自己隨意取的名稱，方便操作記憶即可，最後一個部分由等於和兩個雙引號所組成，代表的是空字串。

如此一來，程式就知道 `repsonse` 是一個代表字串的功能變數，而它的內容目前是空白的。於是，在第八行，我們就可以來做一個小小的比較判斷，如果 `response` 的內容不是 `quit` 的話，那就要重複下面大括號內的程式碼，迴圈的關鍵字就是 `while`，後面跟著小括號，括號裡面如果是真的，那就會持續執行後面大括號的內容，如果不是真的，那就會結束這個部分的內容。驚嘆號的意思是「不」，所以 `!=` 就是不等於的意思，相對的要判斷等於時，需要使用兩個等號 `==`，才不會讓程式誤會我們的意思。

接下來的第10和11行我們已經見過了，只是稍微改變顯示的句子，多出最後的提示 `quit`，和第11行的後半段，從原本的 `ReadKey` 是指只讀一個按鍵，變成 `ReadLine` 代表讀取一整行內容，直到使用者按下輸入鍵為止。差別在於前半段，多了 `response = `這個部分，它告訴程式說我要將使用者輸入的資料存到 `response` 這個功能變數裡面，所以等於符號的意義在於將等號右邊的資料指派給左邊，那不管程式碼左邊是什麼，等號的右邊都會執行。當程式走這裡的時候，遇到了大括號的後半段時（第12行），它會再次回到第8行去判斷是否為真，如果不是，就會跳到第13行，這就是迴圈。


# 我們的訂單後半段

訂單的前半段已經可以選擇要珍奶還是紅茶了，但是要是只買一杯還可以，要是買了很多杯該怎麼辦呢？

於是，程式的複雜度在這裡開始出現，我們既然知道程式擅長於重複，與其讓每一個訂單都是完整的內容，倒不如讓訂單分成許多小部分，也就是在上一章一開頭我們使用試算表 Excel 製作的內容裡面，我們採用的方法是分開小計品項金額的原因，這也是為什麼我們必須要學習程式設計的最佳理由，那就是重複是一切建設的基本技術，今天開飲料店不就是一個最佳的典範嗎？每一家店都長得很接近，甚至一模一樣，但是只要有夠多家店就可以成為好的企業了。

所以真正的課程是學習程式設計的核心概念，而不是要讓我們掉入詳細的基本程式中，只要學會核心概念就可以舉一反三，駕馭複雜的技術並不需要每一行程式都理解的。我們當然知道程式設計可以很複雜，但是在剛開始學習的時候，反而要知道關鍵不在於每一個概念都瞭解，而是要去模仿可以運作的程式，並將其中的關鍵點處理好，讓它成為一個可以為自己運作的工具。

所以為了方便解釋和教學，在本訂單程式中，我們會簡化一些複雜度讓程式可以運作下去，如果要修改成需要的樣子，也只是將我們教過的概念再重新組合就可以變成一個可以運用的軟體了。所以在這裡我們假設顧客只會從珍珠奶茶和紅茶中挑一杯買，然後我們要開始學習如何將這樣子的訂單記錄起來。
